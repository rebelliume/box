function Box(e={}){const n={element:"box",title:"",height:"200px",width:"400px",opacity:.75,fgColor:"#ffffff",bgColor:"#000000",tlColor:"#121212",fontName:"Arial",fontSize:12,disposable:!0,minimizable:!0,movable:!1,selectable:!0,resizable:!1,resizeAxis:["x","y"]},o={...n,...e},t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],l=e=>{e||$ERROR("require args"),$TYPE(e,"number")||$ERROR("arg type mismatch");let n=[];n.push(t[Math.floor(6*Math.random()+10)]);for(let o=1;o<e;o++)n.push(t[Math.floor(16*Math.random())]);return n.join("")},i=l(8),r=l(8),s=l(8),c=l(8),a=e=>{e||$ERROR("require args"),$TYPE(e,"string")||$ERROR("arg type mismatch");let n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n||$ERROR("invalid hex color"),n?`${parseInt(n[1],16)}, ${parseInt(n[2],16)}, ${parseInt(n[3],16)}`:"0, 0, 0"};$ID(e.element).HTML("");const d=$CREATE("div"),p=$CREATE("div"),u=$CREATE("div");u.innerHTML=`\n        #${r}::-webkit-scrollbar { width: 3px; }\n        #${r}::-webkit-scrollbar-track { background-color: rgba(66, 66, 66, 0.3); }\n        #${r}::-webkit-scrollbar-thumb { background-color: rgba(129, 129, 129, 0.79); }\n        #${r}::-webkit-scrollbar-thumb:hover { background-color: rgba(150, 150, 150, 0.79); }\n        #${r} { scrollbar-width: thin; scrollbar-color: rgba(129, 129, 129, 0.79) rgba(66, 66, 66, 0.3); }\n        #${o.element}::selection { background-color: rgba(152, 152, 152, 0.79); }\n    `,document.head.appendChild(u),$ID(o.element).ATTR("style",`\n        display: block;\n        width: ${o.width};\n        height: ${o.height};\n        min-width: 200px;\n        min-height: 90px;\n        max-height: ${o.height};\n        color: ${o.fgColor};\n        font-size: ${o.fontSize}px;\n        font-family: ${o.fontName};\n        z-index: 1;\n        border: 4px solid ${o.tlColor};\n        top: 0px;\n        left: 0px;\n        margin: 0 auto;\n        margin-top: 5px;\n        border-radius: 8px;\n        position: relative;\n    `),$OBJ(d).ATTR("style",`\n        width: 98.5%;\n        height: 18px;\n        padding-left: 1.5%;\n        padding-top: 4px;\n        background-color: ${o.tlColor};\n        color: ${o.fgColor};\n        font-size: 13px;\n        font-weight: 100;\n        line-height: 16px;\n        z-index: 2;\n        user-select: none;\n        -ms-user-select: none;\n        -webkit-user-select: none;\n    `),$OBJ(d).ATTR("id",i),$OBJ(d).TEXT(o.title),$OBJ(p).ATTR("style",`\n        display: block;\n        width: 100%;\n        height: calc(100% - 22px);\n        border-bottom-right-radius: 4px;\n        border-bottom-left-radius: 4px;\n        background-color: rgba(${a(o.bgColor)}, ${o.opacity});\n        z-index: 1;\n        overflow: hidden;\n        ${o.selectable?"":"user-select: none;\n        -ms-user-select: none;\n        -webkit-user-select: none;"}\n    `),o.selectable?$OBJ(p).ATTR("style",`\n            display: block;\n            width: 100%;\n            height: calc(100% - 22px);\n            border-bottom-right-radius: 4px;\n            border-bottom-left-radius: 4px;\n            background-color: rgba(${a(o.bgColor)}, ${o.opacity});\n            z-index: 1;\n            overflow: auto;\n        `):$OBJ(p).ATTR("style",`\n            display: block;\n            width: 100%;\n            height: calc(100% - 22px);\n            border-bottom-right-radius: 4px;\n            border-bottom-left-radius: 4px;\n            background-color: rgba(${a(o.bgColor)}, ${o.opacity});\n            z-index: 1;\n            overflow: auto;\n            user-select: none;\n            -ms-user-select: none;\n            -webkit-user-select: none;\n        `),$OBJ(p).ATTR("id",r),$ID(o.element).append(d,p);const T=$CREATE("div");if($OBJ(T).ATTR("style","\n        position: absolute;\n        right: 6px;\n        top: 2px;\n        display: block;\n        float: right;\n    "),o.disposable){const m=$CREATE("div");$OBJ(m).ATTR("style",`\n            width: 14px;\n            height: 14px;\n            border-radius: 50%;\n            background-color: ${o.fgColor};\n            opacity: 0.5;\n            display: inline-block;\n            float: right;\n            margin-left: 6px;\n            transition: background-color 0.2s;\n        `),$OBJ(m).ATTR("id",s),T.appendChild(m)}if(o.minimizable){const R=$CREATE("div");$OBJ(R).ATTR("style",`\n            width: 14px;\n            height: 14px;\n            border-radius: 50%;\n            background-color: ${o.fgColor};\n            opacity: 0.5;\n            display: inline-block;\n            float: right;\n            transition: background-color 0.2s;\n        `),$OBJ(R).ATTR("id",c),T.appendChild(R)}if(d.appendChild(T),o.disposable&&($ID(s).onmouseover=()=>{$ID(s).ATTR("style",$ID(s).ATTR("style").replace(/background-color: [^;]+/,"background-color: rgb(252, 51, 51)"))},$ID(s).onmouseout=()=>{$ID(s).ATTR("style",$ID(s).ATTR("style").replace(/background-color: [^;]+/,`background-color: ${o.fgColor}`))},$ID(s).onclick=()=>{$ID(o.element).HTML(""),$ID(o.element).ATTR("style","")}),o.minimizable&&($ID(c).onmouseover=()=>{$ID(c).ATTR("style",$ID(c).ATTR("style").replace(/background-color: [^;]+/,"background-color: rgb(214, 214, 214)"))},$ID(c).onmouseout=()=>{$ID(c).ATTR("style",$ID(c).ATTR("style").replace(/background-color: [^;]+/,`background-color: ${o.fgColor}`))},$ID(c).onclick=()=>{const e=$ID(o.element),n=$ID(r),t=n.ATTR("style").includes("display: none")?"block":"none",l=n.ATTR("style").includes("display: none")?"90px":"22px",i=n.ATTR("style").includes("display: none")?`${o.height}`:"22px";n.ATTR("style",n.ATTR("style").replace(/display: [^;]+/,`display: ${t}`)),e.ATTR("style",e.ATTR("style").replace(/min-height: [^;]+/,`min-height: ${l}`)),e.ATTR("style",e.ATTR("style").replace(/height: [^;]+/,`height: ${i}`))}),o.movable){const y=$ID(o.element);let x=!1,f=0,A=0;function $(e){if(!x)return;e.preventDefault();const n=e.clientX-f,o=e.clientY-A;console.log(n),y.ATTR("style",y.ATTR("style").replace(/left: [^;]+/,`left: ${n-400}px`)),y.ATTR("style",y.ATTR("style").replace(/top: [^;]+/,`top: ${o}px`))}function h(){x=!1,$OBJ(document).REMEVENT("mouseup",h),$OBJ(document).REMEVENT("mousemove",$)}y.ATTR("style",y.ATTR("style").replace(/position: [^;]+/,"position: absolute")),y.onmousedown=e=>{if(1!=e.which)return;e.preventDefault();const n=y.getBoundingClientRect();f=e.clientX-n.left,A=e.clientY-n.top,x=!0,$OBJ(document).ADDEVENT("mouseup",h),$OBJ(document).ADDEVENT("mousemove",$)}}if(o.resizable){const E=$ID(o.element);let k,D,w,I,C=!1;const O=$CREATE("div");function b(e){if(!C)return;e.preventDefault();const t=parseInt(n.width,10),l=parseInt(n.height,10);let i=w,r=I;o.resizeAxis.includes("x")&&(i=w+(e.clientX-k)),o.resizeAxis.includes("y")&&(r=I+(e.clientY-D)),i>=t&&E.ATTR("style",E.ATTR("style").replace(/width: [^;]+/,`width: ${i}px`)),r>=l&&(E.ATTR("style",E.ATTR("style").replace(/height: [^;]+/,`height: ${r}px`)),E.ATTR("style",E.ATTR("style").replace(/max-height: [^;]+/,`max-height: ${r}px`)))}function g(){C=!1,$OBJ(document).REMEVENT("mousemove",b),$OBJ(document).REMEVENT("mouseup",g)}$OBJ(O).ATTR("style",`\n            position: absolute;\n            bottom: 0;\n            right: 0;\n            width: 10px;\n            height: 10px;\n            background-color: ${o.tlColor};\n            cursor: ${o.resizeAxis.includes("x")&&o.resizeAxis.includes("y")?"se-resize":o.resizeAxis.includes("x")?"e-resize":"s-resize"};\n            z-index: 3;\n        `),E.appendChild(O),O.onmousedown=e=>{e.preventDefault(),C=!0,k=e.clientX,D=e.clientY,w=parseInt(o.width,10),I=parseInt(o.height,10),$OBJ(document).ADDEVENT("mousemove",b),$OBJ(document).ADDEVENT("mouseup",g)}}return{bodyID:r,bodyTitle:i}}"function"==typeof window.$ID?window.$BOX=function(e){return new Box(e)}:console.error("selector.js is missing");